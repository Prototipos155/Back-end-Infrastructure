{% extends "layout.html" %}

{% block content %}

<div class="container">

    <form action="/registro" name="form-registro" id="form-registro" class="form-registro" method="post">
        <div class="datos">
            <fieldset class="fieldactive">

                <h3>¿En que nivel de estudios se encuentra?</h3>

                <div class="role-selection" id="role-selection">

                    <label class="radio" for="checkbox1">
                        <span class="label">Básico</span>
                        <input type="radio" name="nivel" {% if datos.0=="basico" %}checked="true"{% endif %} id="basico" value="Basico">
                        <span class="checkmark"></span>
                    </label>

                    <label class="radio" for="checkbox2">
                        <span class="label">Medio Superior</span>
                        <input type="radio" name="nivel" {% if datos.0=="medio superior" %}checked="true"{% endif %} id="medio-superior" value="Medio superior">
                        <span class="checkmark"></span>
                    </label>

                    <label class="radio" for="checkbox2">
                        <span class="label">Superior</span>
                        <input type="radio" name="nivel" {% if datos.0=="superior" %}checked="true"{% endif %} id="superior" value="Superior">
                        <span class="checkmark"></span>
                    </label>
        
                </div>
            </fieldset>
            <fieldset class="">

                <label for="nombres">Nombre(s):</label>
                <input value="{{datos.1}}" class='input' type="text" name="nombres" id="nombres" placeholder="Ingrese sus nombres" required>

                <label for="apellidos">Apellido(s):</label>
                <input value="{{datos.2}}" class='input' type="text" name="apellidos" id="apellidos" placeholder="Ingrese sus apellidos" required>
            
            </fieldset>
            <fieldset>

                <label for="apodo">Nombre de usuario:</label>
                <input value="{{datos.3}}" class='input' type="text" name="apodo" id="apodo" placeholder="Ingrese un nombre de usuario" required>
            
            </fieldset>
            <fieldset>

                <label for="telefono">Teléfono:</label>
                <input value="{{datos.4}}" class='input' type="text" name="telefono" id="telefono" placeholder="Ingrese su número de teléfono" required>

                <label for="correo">Correo:</label>
                <input value="{{datos.5}}" class='input' type="email" name="correo" id="correo" placeholder="Ingrese su correo institucional" required>
            
            </fieldset>
            <fieldset>
                <label for="contraseña">Contraseña:</label>
                <input value="{{datos.6}}" class='input' type="password" name="contraseña" id="contraseña" placeholder="Ingrese su contraseña" required>

                <label for="confirmcontra">Confirmar contraseña:</label>
                <input value="{{datos.7}}" class='input' type="password" name="confirmcontra" id="confirmcontra" placeholder="Confirme su contraseña"  required>

            </fieldset>

            <center>
                <button type="submit" id="registrarse" class="btn-registrarse">Confirmar registro</button>
                </center>

        </div>
        <div class="buttons">

            <button id="atras" class="siguiente">Atras</button>
            <button id="siguiente" class="siguiente">Siguiente</button>
        </div>

    </form>
</div>

<script src="../static/js/validacionesRegistro.js"></script>
<script>
    // let c=0;
    // for(let boton of document.querySelectorAll(".buttons.siguiente")){
    //     boton.addEventListener("click",(e,c)=>{
    //         cambiarField(e,c)
    //     })
    // }
    // let fields=document.querySelectorAll(".datos fieldset")
    // function cambiarField(e,direccion){
    //     (e!=undefined)?e.preventDefault():null;
    //     direccion=(direccion==0)?-1:1;
    //     console.log("modo=",direccion)
    //     //0=atras
    //     //1=siguiente
        
        
    //     let index=0;
    //     for (index;index<fields.length;index++){
    //         if(fields[index].classList.contains("fieldactive")){
    //             //encontro el fieldset en visualizacion
    //             break
    //         }
    //     }
    //     console.log("index=",index)
    //     fields[index+direccion].classList.add("fieldactive")
    //     for(let indexAnimation=0;indexAnimation<3000;indexAnimation+=1){
    //         fields[index].style.translate=`${direccion*(100/indexAnimation)}%`
    //     }
    // }
    let currentField = 0;
        const fields = document.querySelectorAll('fieldset');

        // Mostrar el primer campo
        fields[currentField].style.display = 'inline-block';

        document.getElementById('siguiente').addEventListener('click', function() {
            // Ocultar el campo actual
            currentField++;

            // Si hay más campos, mostrar el siguiente
            if (currentField < fields.length) {
                fields[currentField].style.display = 'inline-block';
            } else {
                // Si no hay más campos, se puede desactivar el botón
                this.disabled = true;
                this.textContent = 'Fin del registro';
            }
            fields[currentField].style.translate="-100%"
            fields[currentField-1].style.translate="-100%"
            setTimeout(()=>{
                fields[currentField-1].style.display = 'none';

                // Incrementar el índice del campo actual
                
            },5000)
            
        });
</script>
{% endblock %}